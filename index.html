<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Система управления предприятием «Eluda»</title>
		<link rel="stylesheet" type="text/css" href="_skins/Ken/all.css">
		<link rel="stylesheet" type="text/css" href="_skins/Ken/jquery-ui-1.10.3.custom.min.css">
		<script type='text/javascript' src='_skins/Ken/all.js'></script>
		<script type='text/javascript' src='_skins/Ken/jquery-ui-1.10.3.custom.min.js'></script>
		<script type='text/javascript' src='_skins/Ken/jQuery.showModalDialog.js'></script>
<script type="text/javascript">
	var session = {};
	var $treeviewdataSource = [];
	var selecttypemenu = 'allmenu';
	kendo.culture("ru-RU");
</script>
<style>
	body, html {overflow: hidden; }
	.lastaddtab span {visibility: hidden;}
	.touch { -webkit-overflow-scrolling: touch !important; overflow: auto !important; }
</style>
</head>
<body>
	<div class="logotip1">Eludia</div>
<div id="viewModel">
<div data-bind="attr: {class: smallopen, id: themechooser}">


<a href="#" class="exit k-button" data-bind="click: logout, style: {display: vnone}" data-hintr="Выйти">Выйти <img src="images/icons/logout.png" alt="logout"></a>
<div id="lmb2" data-bind="click: toggle_menu, style: {top: lmbtop, left: lmbleft, display: vnone}">&nbsp;</div>
<div class="closetabrightpane" data-bind="click: closetabrightpane, style: {width: cltrpwidth, top: esnavtop, left: esnavleft, display: cnone}" ></div>

<table class="breadcrumbs"><tr><td><div class="br-icon k-state-selected"><div id="breadcrumbicon" data-bind="style: { backgroundImage: breadcrumbicon}" class="icons"></div></div></td><td><div id="breadcrumbtitel" data-active="0" data-bind="text: breadcrumbtitel"></div></td></tr></table>
<table id="body-interface" class="k-widget tablereset width-one-hundred" data-bind="style: {height: bodyinterface}">
	<tr id="bTbody1">
		<td id="top-pane" class="valigntop" data-bind="style: {height: heighttoppanel, color: themecolor}">
			<table id="colorpanel" class="colorpanel tablereset width-one-hundred height-one-hundred">
				<tr>
					<td class="width-one-hundred height-one-hundred valigntop" data-bind="html: bodytoppanehtml">

					</td>
				</tr>
				<tr>
					<td class="toppanel colorpanel">
						<table class="tablereset width-one-hundred"><tr>
							<td style="width: 45%;"></td><td style="width: 10%;" data-bind="html: buttontoppanel"></td><td style="width: 45%;"></td>
						</tr></table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr id="bTbody2">
		<td data-bind="style: {height: heightcenterpanel}" class="valigntop">
			<table class="tablereset width-one-hundred">
				<tr>
					<td class="width-one-hundred height-one-hundred valigntop" data-bind="html: bodyinterfacehtml">

					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr id="bTbody3">
		<td class="footerpanel k-block k-header">
			<table id="footer" class="tablereset width-one-hundred"><tr></tr></table>
		</td>
	</tr>
</table>
<ul style="position: absolute; bottom: 30px; right:30px;" id="themeChooser"><li></li></ul>
</div>
</div>

<script>


$(document).ready(function () {
	"use strict";
	var textmenu,
		activetab,
		activetabsize,
		topmenu,
		leftmenuvar,
		left_menu_width,
		left_menu_min_width,
		rightmenuvar,
		viewModel,
		horizontal,
		lmper,
		win,
		themesMenu,
		templateMenu,
		getPane,
		SelectThemeChooser,
		SelectThemeChooserLink,
		wind = window,
		wHeight = $(wind).height(),
		no_savetabs = 0;

	function TWdataSource(arr,level) {
		var dumped_text = "";
		if(!level) level = 0;
		if(typeof(arr) == 'object') {
			for(var item in arr) {
				var value = arr[item];
				if(typeof(arr) == 'object') {
					TWdataSource(value,level+1);
				}
			}
		}
	}
	var tabStrip, tabs;
	/**
	* закрывает вкладку с заданным id_tab
	*/
	function close_tab(id_tab, select_next) { // закрывает владку с заданным id

		$("#tabstrip ul.k-tabstrip-items > li").find("span[data-value]").each(function (i) {
			if ($(this).data("value") !== id_tab) {
				return;
			}

			var tab = tabStrip.select();

			if (select_next
				&& $(this).closest(".k-state-active").attr("class") === tab.attr("class")
			) {
				var otherTab = tab.next();
				otherTab = otherTab.length ? otherTab : tab.prev();
				tabStrip.remove(tab);
				tabStrip.select(otherTab);
			} else {
				tabStrip.remove(i);
				tabStripMovement(tab);
			}
			tabs.splice(i, 1);

			return false;
		});

		$("#tabstrip ul.k-tabstrip-items > li:last").addClass("k-last");

		savetabs();

	}

	var cs = ("" + document.cookie).split (/; */);
	for (var i = 0; i < cs.length; i++) {
		var kv = cs [i].split(/=/);
		if (kv [0] != 'sid') continue;
		session.id = kv [1];
		break;
	}
function static_menu_json () {
		return [{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Портал","classicon":"page_white","id":"baf23c2cec7f219c2c4486158864bf4e","items":[{"favorites":false,"rel":"/?type=msgs&action=create&id_msg_type=1&__edit=1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Создать сообщение","classicon":"msgs","id":"/?type=msgs&action=create&id_msg_type=1&__edit=1"},{"favorites":false,"rel":"/?type=msgs&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Сообщения","classicon":"msgs","id":"/?type=msgs"},{"favorites":false,"rel":"/?type=news&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Новости","classicon":"news","id":"/?type=news"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Задачи","classicon":"page_white","id":"tasks","items":[{"favorites":false,"rel":"/?type=tasks&action=create&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Добавить задачу","classicon":"tasks","id":"add_task"},{"favorites":false,"rel":"/?type=tasks&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Список задач","classicon":"tasks","id":"/?type=tasks"},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Отчеты","classicon":"page_white","id":"task_reports","items":[{"favorites":false,"rel":"/?type=task_stats&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Исполнительская дисциплина","classicon":"tasks_report","id":"/?type=task_stats"},{"favorites":false,"rel":"/?type=task_stats2&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Загруженность сотрудников","classicon":"tasks_report","id":"/?type=task_stats2"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Процессы","classicon":"page_white","id":"task_routes","items":[{"favorites":false,"rel":"/?type=tr_selection_start&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Запуск процесса по параметрам","classicon":"page_white","id":"/?type=tr_selection_start"},{"favorites":false,"rel":"/?type=task_route_items&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Список процессов","classicon":"tasks","id":"/?type=task_route_items"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Функции","classicon":"page_white","id":"c768583eda068a0ea8e167a068c2fc94","items":[{"favorites":false,"rel":"/?type=tasks_cancel&id=-1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Отменить задачи за период","classicon":"options","id":"/?type=tasks_cancel&id=-1"}]},{"favorites":false,"rel":"/?type=branches&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Ветки","classicon":"arrow_branch","id":"/?type=branches"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Документооборот","classicon":"page_white","id":"docs","items":[{"favorites":false,"rel":"/?type=doc_type_select&can_close_window=1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Добавить документ","classicon":"docs","id":"/?type=doc_type_select&can_close_window=1"},{"favorites":false,"rel":"pages/doc_folders.htm","target":null,"popular":true,"text":"Архив документов","classicon":"docs","id":"doc_folders"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Отчеты","classicon":"page_white","id":"reports","items":[{"favorites":false,"rel":"/?type=log_users&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Действия пользователей","classicon":"report","id":"log_users"},{"favorites":false,"rel":"http://docs.cheby.ru/","target":"popup","popular":false,"text":"Wiki - Eludia (документация)","classicon":"report","id":"100003"},{"favorites":false,"rel":"http://service.vitek.ru:1038/","target":"popup","popular":false,"text":"ВИТЕК (рабочая)","classicon":"report","id":"100002"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Справочники","classicon":"page_white","id":"vocs","items":[{"favorites":false,"rel":"/?type=deps&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Структура Компании","classicon":"tree","id":"/?type=deps"},{"favorites":false,"rel":"/?type=deps&objects_type=deps_hr_orders&hr_only=1&addressbook=1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Адресная книга","classicon":"vocs","id":"address_book"},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Документооборот","classicon":"page_white","id":"docflow_vocs","items":[{"favorites":false,"rel":"/?type=news_subjects&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Темы новостей","classicon":"vocs","id":"/?type=news_subjects"},{"favorites":false,"rel":"/?type=doc_type_groups&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Группы типов документов","classicon":"vocs","id":"/?type=doc_type_groups"},{"favorites":false,"rel":"/?type=doc_types&is_use_doc_type_type_filter=1&is_docs=1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Типы документов","classicon":"vocs","id":"/?type=doc_types&is_use_doc_type_type_filter=1&is_docs=1"},{"favorites":false,"rel":"/?type=doc_kinds&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Виды документов","classicon":"vocs","id":"/?type=doc_kinds"},{"favorites":false,"rel":"/?type=doc_status&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Статусы документов","classicon":"vocs","id":"/?type=doc_status"},{"favorites":false,"rel":"/?type=task_types&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Типы задач","classicon":"vocs","id":"/?type=task_types"},{"favorites":false,"rel":"/?type=task_importances&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Важность задач","classicon":"vocs","id":"/?type=task_importances"},{"favorites":false,"rel":"/?type=tr_selection&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Выбор процесса по параметрам","classicon":"vocs","id":"/?type=tr_selection"},{"favorites":false,"rel":"/?type=tr_parameters&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Параметры для выбора процесса","classicon":"vocs","id":"/?type=tr_parameters"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Дополнительные поля","classicon":"page_white","id":"doc_fields","items":[{"favorites":false,"rel":"/?type=doc_field_folders&id_doc_type_bind=0&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Для документов","classicon":"vocs","id":"/?type=doc_field_folders&id_doc_type_bind=0"},{"favorites":false,"rel":"/?type=doc_field_folders&id_doc_type_bind=10002&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Для задач","classicon":"vocs","id":"/?type=doc_field_folders&id_doc_type_bind=10002"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Пользовательские справочники","classicon":"page_white","id":"user_vocs","items":[{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Для документов","classicon":"page_white","id":"927d638c251e29ecf2f7c65bb1a1e9fe","items":[{"favorites":false,"rel":"/?type=doc_types&id_doc_type_bind=0&is_vocabulary=1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Добавить...","classicon":"page_white","id":"/?type=doc_types&id_doc_type_bind=0&is_vocabulary=1"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=100008&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Договор","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=100008"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=196&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Инициатор договора","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=196"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=100011&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Модули","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=100011"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=502&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Номенклатура","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=502"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=100010&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Объект","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=100010"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=100007&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Приложение","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=100007"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=100006&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Причина","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=100006"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=210&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Причина извещения (справочник)","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=210"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=209&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Срочность (справочник)","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=209"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=100005&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Срочность разработки","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=100005"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Для задач","classicon":"page_white","id":"adf94d67f193a50476c06290ca060080","items":[{"favorites":false,"rel":"/?type=doc_types&id_doc_type_bind=10002&is_vocabulary=1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Добавить...","classicon":"page_white","id":"/?type=doc_types&id_doc_type_bind=10002&is_vocabulary=1"},{"favorites":false,"rel":"/?type=doc_vocs&id_doc_type=100002&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Приложения","classicon":"vocs","id":"/?type=doc_vocs&id_doc_type=100002"}]}]}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Настройки","classicon":"page_white","id":"options","items":[{"favorites":false,"rel":"/?type=global_options&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Общие настройки","classicon":"options","id":"/?type=global_options"},{"favorites":false,"rel":"/?type=user_private_options&id=-1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Мои настройки","classicon":"options","id":"/?type=user_private_options&id=-1"},{"favorites":false,"rel":"/?type=users_twins&id=43&twin=1&__last_query_string=-1&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Совмещение","classicon":"admin_function","id":"/?type=users_twins&id=43&twin=1&__last_query_string=-1"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Администрирование","classicon":"page_white","id":"admin","items":[{"favorites":false,"rel":"/?type=users&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Сотрудники","classicon":"users","id":"/?type=users"},{"favorites":false,"rel":"/?type=user_access_print&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Отчет по доступу","classicon":"admin_function","id":"/?type=user_access_print"},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Протоколы","classicon":"page_white","id":"4ba1eff3677a51ee23a677d74f48fdc1","items":[{"favorites":false,"rel":"/?type=log&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":true,"text":"Протокол действий пользователей","classicon":"admin_function","id":"/?type=log"},{"favorites":false,"rel":"/?type=import_united&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Протокол импорта","classicon":"admin_function","id":"/?type=import_united"},{"favorites":false,"rel":"/?type=xml_import_log&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Импорт из внешних систем","classicon":"page_white","id":"/?type=xml_import_log"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Справочники","classicon":"page_white","id":"admin_vocs","items":[{"favorites":false,"rel":"/?type=workgroup_folders&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Рабочие группы","classicon":"vocs","id":"/?type=workgroup_folders"},{"favorites":false,"rel":"/?type=voc_posts&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Должности","classicon":"vocs","id":"/?type=voc_posts"}]},{"favorites":false,"rel":"/?type=tables_in_app&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Таблицы","classicon":"admin_function","id":"/?type=tables_in_app"},{"favorites":false,"rel":"/?type=_info&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Версии","classicon":"admin_function","id":"/?type=_info"},{"favorites":false,"rel":"/?type=report_folders&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"Отчеты","classicon":"admin_function","id":"/?type=report_folders"}]},{"favorites":false,"rel":"undefined","popular":false,"target":null,"text":"Помощь","classicon":"page_white","id":"help","items":[{"favorites":false,"rel":"/?type=about&sid=5770615251352773000&sid=5770615251352773000&sid=5770615251352773000","target":null,"popular":false,"text":"О программе","classicon":"vocs","id":"/?type=about"}]}];
	}

	function static_indicators_json () {
		return {"content":[{"tabicon":"news","icon":"page","href":"/?type=news","label":"1","title":"Новости"},{"tabicon":"msgs","icon":"email_open","href":"/?type=msgs","label":"6","title":"Сообщения"},{"tabicon":"tasks","icon":"page_go","href":"/?type=tasks&relation_type=0&skip_filters=1","label":143,"title":"Выполнить"},{"tabicon":"tasks","icon":"page_error","href":"/?type=tasks&relation_type=1&skip_filters=1","label":15,"title":"На контроле"}]};
	}

	session.query = function (data, handler, method) {
		var type_json_override = {
			"menu"        : static_menu_json (),
			"_indicators" : static_indicators_json (),
			"users": {
				user : {
					label : 'Кудрявцев П.И.',
					hint  : '<b>Портал</b><br/><li>- Администратор документооборота<b>Администрирование</b><br/>'
				},
				twin : {
					label : 'Иванов П.В.',
					hint  : 'html подсказки'
				}
			},
			about: {"logout_url":"","bottom_toolbar":[{"href":"","label":"Система управления предприятием \"Eludia\""},{"href":"http://light-business.ru","label":"Группа Компаний \"Фотон\" (ГК \"Фотон\")"}],"top_toolbar":"Eludia"}
		};

		if (type_json_override [data.type]) {
			return handler (type_json_override [data.type]);
		}

		method = method || 'GET';
		handler = handler || function (result){};
		data ['_salt'] = Math.random ();
		data ['sid']   = session.id;
		$.ajax ({
			url: '/',
			data: data,
			dataType: 'json',
			type: method,
			success: function (data) {
				if (data.url == '/?type=_boot' || data.url == '/?type=logon') document.location.href = 'login.html';
				handler (data);
			}
		});
	};

	session.post = function (data, handler) {
		session.query (data, undefined, 'POST');
	}

	if(typeof(Storage) === "undefined") {
		webstorage_not_supported ();
	}

	function webstorage_not_supported() {
		alert ('Ваш браузер не поддерживает сохранение настроек. Для устранения проблемы Вы можете:\n- обновить браузер до IE8\n- поставить Google Chrome Frame\n- использовать браузер Google Chrome');
	}

	SelectThemeChooser = get_global_setting("kendoSkin", "silver");
	document.cookie="kendoSkin=" + SelectThemeChooser + "; path=/;";

	$('link[rel*=style][title]').each(function (i) {
		this.disabled = true;
		if (this.getAttribute('title') === SelectThemeChooser) {this.disabled = false; }
	});
	/*******************************************************************************/
	leftmenuvar = get_global_setting("leftmenu", "open");
	if (leftmenuvar === "open") {
		leftmenuvar = false;
	} else {
		leftmenuvar = true;
	}
	/*******************************************************************************/
	rightmenuvar = get_global_setting("rightmenu", "close");
	if (rightmenuvar === "close") {
		rightmenuvar = true;
	} else {
		rightmenuvar = false;
	}
	/*******************************************************************************/
	activetab = "0";
	topmenu = get_global_setting("topmenu", "close");
	left_menu_min_width = 250;
	left_menu_width = get_global_setting("left_menu_width", left_menu_min_width);
	left_menu_width = left_menu_width > left_menu_min_width? left_menu_min_width : left_menu_width;
	selecttypemenu = get_global_setting("selecttypemenu", "allmenu");
	lmper = get_global_setting("lmс", "no");
	/*******************************************************************************/
	/* Извлечь id */
	function fromid(rel) {var xrel; xrel = rel.split('|'); return xrel[0]; }
	/* Извлечь адрес вкладки */
	function fromurl(rel) {var xrel; xrel = rel.split('|'); return xrel[1]; }
	/* Извлечь иконку вкладки */
	function fromicon(rel) {
		var vxrel, xrel;
		xrel = rel.split('|');
		if (xrel[2] === undefined || xrel[2] == 'undefined') {
			vxrel = "page_white.png";
		} else {
			vxrel = xrel[2] + '.png';
		}
		return vxrel;
	}
	/* Извлечь название вкладки */
	function fromtext(rel) {var xrel; xrel = rel.split('|'); return xrel[3]; }
	function fromtarget(rel) {var xrel; xrel = rel.split('|'); return xrel[4]; }
	/*************************** Добавить виджет *****************************/
	function faddgadgetmenu(valtitle, valid) {
		var dataSourcelistV, viewModelDesc;
		viewModelDesc = kendo.observable({
			selectgadget: [
				{Name: "Портал",  Id: "portal"},
				{Name: "Задачи",  Id: "tasks"},
				{Name: "Charts",  Id: "charts"}
			],
			dataSourcelistG2: [
				{Name: "Area Charts", Class: "icon-chart_bar icons",  Id: "5", TypeG: "k-button charts"},
				{Name: "Bar Charts", Class: "icon-chart_bar icons",  Id: "6", TypeG: "k-button charts"},
				{Name: "Bubble Charts", Class: "icon-chart_bar icons",  Id: "7", TypeG: "k-button charts"},
				{Name: "Donut Charts", Class: "icon-chart_bar icons",  Id: "8", TypeG: "k-button charts"}
			],
			dataSourcelistD2: [
				{Name: "Новости", Class: "icon-page icons",  Id: "1", TypeG: "k-button portal"},
				{Name: "Переписка", Class: "icon-email_open icons",  Id: "2", TypeG: "k-button portal"},
				{Name: "Выполнить", Class: "icon-page_go icons",  Id: "3", TypeG: "k-button tasks"},
				{Name: "На контроль", Class: "icon-page_error icons",  Id: "4", TypeG: "k-button tasks"}
			],
			dataSourcelistG3: [
				{Name: "Новости", Class: "icon-page icons",  Id: "1", TypeG: "k-button portal"},
				{Name: "Переписка", Class: "icon-email_open icons",  Id: "2", TypeG: "k-button portal"},
				{Name: "Выполнить", Class: "icon-page_go icons",  Id: "3", TypeG: "k-button tasks"},
				{Name: "На контроль", Class: "icon-page_error icons",  Id: "4", TypeG: "k-button tasks"}
			],
			dataSourcelistD3: [
				{Name: "Area Charts", Class: "icon-chart_bar icons",  Id: "5", TypeG: "k-button charts"},
				{Name: "Bar Charts", Class: "icon-chart_bar icons",  Id: "6", TypeG: "k-button charts"},
				{Name: "Bubble Charts", Class: "icon-chart_bar icons",  Id: "7", TypeG: "k-button charts"},
				{Name: "Donut Charts", Class: "icon-chart_bar icons",  Id: "8", TypeG: "k-button charts"}
			],
			dataSourcelistGnew: [
				{Name: "Новости", Class: "icon-page icons",  Id: "1", TypeG: "k-button portal"},
				{Name: "Переписка", Class: "icon-email_open icons",  Id: "2", TypeG: "k-button portal"},
				{Name: "Выполнить", Class: "icon-page_go icons",  Id: "3", TypeG: "k-button tasks"},
				{Name: "На контроль", Class: "icon-page_error icons",  Id: "4", TypeG: "k-button tasks"},
				{Name: "Area Charts", Class: "icon-chart_bar icons",  Id: "5", TypeG: "k-button charts"},
				{Name: "Bar Charts", Class: "icon-chart_bar icons",  Id: "6", TypeG: "k-button charts"},
				{Name: "Bubble Charts", Class: "icon-chart_bar icons",  Id: "7", TypeG: "k-button charts"},
				{Name: "Donut Charts", Class: "icon-chart_bar icons",  Id: "8", TypeG: "k-button charts"}
			],
			dataSourcelistDnew: [],
			dropDownListValue: "portal",
			desctopname: valtitle,
			dialoghtml: '<div id="adddesctop">' +
				'<table id="grid" class="d-items" style="margin: 10px;">' +
				'<tbody id="draggable-container"><tr><td>' +
					'<ul>' +
						'<li>' +
						'<select style="width: 300px; margin-left: 30px;" data-role="dropdownlist" data-text-field="Name" data-value-field="Id" data-bind="source: selectgadget, value: dropDownListValue"><\/select>' +
						'<\/li>' +
					'<\/ul>' +
					'<div data-bind="attr: {class: dropDownListValue}"><ul class="k-group drop" data-role="listview" data-bind="source: dataSourcelistG' + valid + '" data-template="templatelistView" style="margin-left:30px; margin-top:10px; padding:10px; min-height:300px; width:280px;"><\/ul><\/div>' +
				'<\/td><td>' +
					'<form action="index.php" method="post" name="form1"><ul style="padding-left: 30px;">' +
						'<li>' +
							'<span><input name="fullname" id="fullname" style="width: 100%;" data-bind="value: desctopname" type="text" class="k-textbox"><\/span>' +
						'<\/li>' +
					'<\/ul>' +
				'<ul class="k-group drop" data-role="listview" data-bind="source: dataSourcelistD' + valid + '" data-template="templatelistView" style="margin-left:30px; margin-top:10px; padding:10px; min-height:300px; width:300px;"><\/ul>' +
				'<div style="text-align: right;margin-top:20px;"><input type="submit" value="Отправить"></div><\/form>' +
				'<\/td><\/tr><\/tbody><\/table><\/div>'
		});
		kendo.bind($("#winddialog"), viewModelDesc);
		$('.d-items ul.drop').kendoDraggable({
			container: $("#draggable-container"),
			filter: '.k-button',
			hint: function (item) { return $(item).clone(); }
		});
		$('.d-items ul.drop').kendoDropTarget({
			drop: function (e) {
				this.element.append(e.draggable.currentTarget).closest('.k-group').removeClass('droppable');
			},
			dragenter: function (e) {
				$(this.element).closest('.k-group').addClass('droppable');
			},
			dragleave: function (e) {
				$(this.element).closest('.k-group').removeClass('droppable');
			}
		});
		$('#fullname').click(function () {
			$(this).select();
		});
		win = $("#adddesctop").kendoWindow({
			animation: false,
			title: "Добавить виджет",
			actions: ["Close"],
			width: "740px",
			height: "460px",
			modal: true,
			visible: false
		}).data("kendoWindow");
		win.open();
		win.wrapper.css({top: Math.max(0, ($(wind).height() - 460) / 2), left: Math.max(0, ($(wind).width() - 780) / 2)});
	}
	/************************** Контекстное меню *****************************/
	/**
	* закрывает все вкладки, кроме владки с заданным id и зафиксированных
	*/
	function close_other_tabs(id_tab) {

		var tab_ids_to_remove = [];
		$("#tabstrip ul.k-tabstrip-items > li").find("span[data-value]").each(function (i, el) {

			var id_current_tab = $(el).data("value");
			if (id_current_tab === id_tab) {
				tabStrip.select(i);
				return;
			}

			if ($(el).hasClass("menu-tabs-fixed")) {
				return;
			}
			tab_ids_to_remove.push(id_current_tab);
		});

		for (var i in tab_ids_to_remove) {
			var id_tab = tab_ids_to_remove [i];
			close_tab (id_tab);
		}

		$("#tabstrip ul.k-tabstrip-items > li:last").addClass("k-last");
		tabStripMovement($('#tabstrip li[aria-selected="true"]'));
	}

	function onSelectMenuTab(e) {
		switch ($(e.item).data("type")) {
		case "fixmenu":
			$("#tabstrip ul.k-tabstrip-items > li").find("span[data-value]").each(function () {
				if ($(this).data("value") === $(e.item).data("value")) {
					$(this).closest("[data-fixblock]").data('fixblock', 'true').removeClass("menu-tabs").addClass("menu-tabs-fixed");
					return false;
				}
			});
			break;
		case "close_tab":
			var id_tab = $(e.item).data("value");
			close_tab (id_tab, true);
			break;
		case "close_other_tabs":
			var id_tab = $(e.item).data("value");
			close_other_tabs(id_tab);
			break;
		case "addgadgetmenu":
			$.each(tabs, function (i, val) {
				if (val.id == $(e.item).data("value")) {
					faddgadgetmenu("" + val.title, val.id);
				}
			});
			break;
		case "openrightpanemenu":
			$.each(tabs, function (i, val) {
				if (val.id == $(e.item).data("value")) {
					viewModel.set("comparedocument", "" + val.title);
					viewModel.set("srcrightpane", "" + val.href);
					if ($("#right-pane").width() <= 100) {
						horizontal.size("#right-pane", "40%");
						horizontal.toggle($("#right-pane"), "40%");
						viewModel.set("cltrpwidth", "270px");
						viewModel.set("cnone", "block");
					}
					return false;
				}
			});
			break;
		case "openinnewwinmenu":
			$.each(tabs, function (i, val) {
				if (val.id == $(e.item).data("value")) {
					wind.open(val.href, 'okno', 'width=800,height=600,resizable=yes,scrollbars=yes,status=yes');
					return false;
				}
			});
			break;
		case "refreshmenu":
			$.each(tabs, function (i, val) {
				if (val.id == $(e.item).data("value")) {
					var bfn = "_body_iframe_" + i;
					var bfn2 = "#"+bfn
					$(bfn2).css('visibility', 'hidden');
					window.frames[bfn].location.reload(true);
					return false;
				}
			});
			break;
		case "addtab":
			//faddgadgetmenu('Новый рабочий стол', 'new');
			break;
		default:
		}
	}

	/**
	 * сохраняет список открытых вкладок
	 */
	function savetabs () {
		if (no_savetabs) return;
		var tabs_str = '';
		for (var i in tabs) {
			var tab = tabs [i];
			if (tab.id == 'main' || tab.id == 'indicators') continue;
			if (tabs_str) tabs_str += ';';
			tabs_str += tab.menu_item + ':' + tab.id;
		}
		set_global_setting("tabs", tabs_str);
	}

	function tab_index (id_tab) {

		var tab_ids = [];
		for (var i in tabs) {
			tab_ids.push(tabs[i]['id']);
		}

		return $.inArray(id_tab, tab_ids);
	}

	function tab_is_opened (id_tab) {

		return tab_index(id_tab) !== -1;
	}

	/******************************** Открыть страницу ********************************/
	function opentab(menu_item, options) {
		if (!options) options = {'select_existed' : 1};

		var id_tab = options.id || kendo.guid();
		var url = fromurl(menu_item);
		if (!url || url.substring (0,9) == 'undefined') return;
		if (!options.select_existed || !tab_is_opened (id_tab)) {

			var is_last_tab_fixed = $("#tabstrip ul .k-last [data-fixblock]").data('fixblock') === true;
			if (options.select_existed && !is_last_tab_fixed) {
				tabStrip.remove(tabStrip.tabGroup.children("li").eq(tabs.length - 1));
				tabs.splice(tabs.length - 1, 1);
			}
			var src = fromurl (menu_item);
			if (!/\.html?/.test (src)) src += ('&sid=' + session.id);
			var tab = {
				id: id_tab,
				menu_item: menu_item,
				title: fromtext(menu_item),
				icon: fromicon(menu_item),
				href: url,
				text: "<span class='tabtitle menu-tabs" + (options.isFixed ? '-fixed' : '') + "' data-fixblock='" + (options.isFixed ? 'true' : 'false') + "' data-value='" + id_tab + "'><ul class='menu-tab'><li><img src='images/icons/" + fromicon(menu_item) +"' class='k-image'>" + fromtext(menu_item) + "</li><li><img src='images/icons/bullet_wrench.png' class='mset'><ul>"
					+ (options.isFixed? '' :
						"<li data-value='" + id_tab + "' data-type='close_tab' class='closemenu'><img src='images/icons/cross.png' alt='Закрыть'>Закрыть<\/li>")
/*
					+
					"<li data-value='" + id_tab + "' data-type='fixmenu'  class='fixmenu'><img src='images/icons/lock.png' alt='Зафиксировать'>Зафиксировать<\/li>"
*/
					+ "<li data-value='" + id_tab + "' data-type='close_other_tabs' class='closeallmenu'><img src='images/icons/blocked.png' alt='Закрыть все, кроме этого'>Закрыть все, кроме этого<\/li>"
/*
					+ "<li data-value='" + id_tab + "' data-type='addgadgetmenu' class='addgadgetmenu'><img src='images/icons/chart_curve_add.png' alt='Добавить виджет'>Добавить виджет<\/li>"
					+ "<li data-value='" + id_tab + "' data-type='openrightpanemenu' class='openrightpanemenu'><img src='images/icons/application_side_expand.png' alt='В другое окно'>В другое окно<\/li>"
					+ "<li data-value='" + id_tab + "' data-type='openinnewwinmenu' class='openinnewwinmenu'><img src='images/icons/application_double.png' alt='Открыть в новой копии'>Открыть в новой копии<\/li>"
*/
					+ "<li data-value='" + id_tab + "' data-type='refreshmenu' class='refreshmenu'><img src='images/icons/arrow_refresh.png' alt='Обновить содержимое'>Обновить содержимое<\/li><\/ul><\/li><li class='lastaddtab' data-type='addtab'><span data-hint='Создать рабочий стол' class='addtab'>+<\/span><\/li><\/ul><\/span> ",
				encoded: false,
				content: '<iframe data-id-tab="' + id_tab + '" onload="$(this).css(\'visibility\', \'visible\');" style="visibility: hidden;" name="_body_iframe_' + tabs.length + '" id="_body_iframe_' + tabs.length + '" src="' + src + '" width="100%" height="100%" border="0" frameborder="0" marginheight="0" marginwidth="0" application="yes" allowTransparency="true" ><\/iframe>',
			};
			tabs[tabs.length] = tab;
			tabStrip.append(tab).select(tabStrip.tabGroup.children("li").eq(tabs.length-1));
			fix_tab_scrolls ();
		} else {
			tabStrip.select(tab_index(id_tab));
		}
		if (options.id != 'main' && options.id != 'indicators') savetabs();
		$(".menu-tab").kendoMenu({select: onSelectMenuTab});
	}

	function fix_tab_scrolls () {
		$('#tabstrip iframe').each(function () {
			var horizontalheight = $("#bTbody2").height() - 33;
			$(this).css("height", horizontalheight + "px");

			var $parent = $(this).parent();
			$parent.addClass('touch');

			// костыль для скроллинга на iPad
			var is_safari_or_uiwebview = /(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);
			if (is_safari_or_uiwebview) {
				var $content_pane = $("#horizontal").children(".k-pane:eq(1)");
				$parent.width($content_pane.width());
				$parent.height($content_pane.height() - 33);
			}
		});
	}

	window.opentab = function (href, label, icon) {
		var menu_item = [href, href, icon || 'page_white', label, 'newtab'].join('|');
		opentab (menu_item, {select_existed : 0});
	};

	/****************************** Смена типов меню **************************************/
	function loadsettingmenu() {
		var treeview = $("#treeview").kendoTreeView({
			checkboxes: {
				checkChildren: true,
				template: "<input type='checkbox' name='#= item.id #' value='#:item.favorites#'>"
			},
			template: kendo.template($("#treeview-template").html()),
			dataSource: $treeviewdataSource,
		}).data("kendoTreeView");
		$("#treeview input[value = 'true']").each(function () {
			$(this).prop({"disabled": false, "checked": false});
			$(this).click();
		});
		$("#treeview ul.k-treeview-lines > li").addClass("k-link k-header");
		$("#treeview ul.k-treeview-lines").addClass("settingmenu");
		$("#treeview input:checkbox").live ('click', function () {

			var request = {type : '_menu', action : 'check'};
			var checked_menu_items = $('#treeview input:checkbox:checked').map(function(){
				return $(this).attr('name');
			}).get();

			for (var i in checked_menu_items) {
				var menu_item_name = checked_menu_items [i];
				request['checked_' + menu_item_name] = 1;
			}

			session.post(request);
		});

		$("#treeview").data("kendoTreeView").bind("select", function (e) {
			if (fromurl($(e.node).find("span span").data("value")) === "") {
				treeview.expand($(e.node).closest('li'));
				$(e.node).find(".k-in").removeClass("k-state-selected");
			} else {
				opentab($(e.node).find("span span").data("value"));
			}
		});
		$("#treeview").data("kendoTreeView").bind("expand", function (e) {
			var backgroundel, colorel;
			if ($(e.node).closest('ul').attr('class') === "k-group k-treeview-lines") {
				treeview.collapse($('.k-treeview-lines > li').not($(e.node).closest('li')));
				backgroundel = $('.k-state-selected').css('background-color');
				colorel = $('.k-state-selected').css('color');
				$(e.node).css('background-position', '0px 0px').children('div').css({'background-color': '#046380', 'background-image': 'url(images/highlight.png)', 'background-position': '0 0px', 'color': colorel});
			}
		});
		$("#treeview").data("kendoTreeView").bind("collapse", function (e) {
			$(e.node).css('background-position', '0px center').children('div').attr('style', '');
		});

		$("#treeview").data("kendoTreeView").expand(".k-item");

	}
	function loadmenu(stm) {
		var treeview = $("#treeview").kendoTreeView({
			template: kendo.template($("#panelbar-template").html()),
			dataSource: $treeviewdataSource
		}).data("kendoTreeView");
		$("#treeview ul.k-treeview-lines > li").addClass("k-link k-header");

		var onMenuClick = function (e) {

			e.stopPropagation();

			var node = $(this);
			var right_click = e.which === 3;
			if (fromurl(node.find("span span").data("value")) === "") {
				treeview.expand(node.closest('li'));
				node.find(".k-in").removeClass("k-state-selected");
				return true;
			}

			var datavalue = node.find("span span").data("value");
			treeview.expand(node.closest('li'));
			switch (fromtarget(datavalue)) {
			case "blank":
				wind.open(fromurl(datavalue), '_blank');
				break;
			case "popup":
				var win_top  = screen.availHeight <= 600 ? 25 : 50;
				var win_left = screen.availWidth <= 800 ? 25 : 50;
				var options = [
					'resizable=yes',
					'scrollbars=yes',
					'status=yes',
					'top=' + win_top,
					'left=' + win_left,
					'width=' + (screen.availWidth - win_left * 2),
					'height=' + (screen.availHeight - win_top * 2)
				];
				window.open(fromurl(datavalue), 'fake_iframe', options.join(','));
				break;
			case "newtab":
				opentab(datavalue, {select_existed : 0});

				// session.query ({
				// 	type    : '_menu',
				// 	action  : 'click',
				// 	'_name' : fromid(datavalue)
				// });
				break;
			default:
				if (lmper === "yes") {$("#lmb").trigger('click'); }
				opentab(datavalue, {select_existed : !right_click});

				// session.query ({
				// 	type    : '_menu',
				// 	action  : 'click',
				// 	'_name' : fromid(datavalue)
				// });
			}

			return true;
		};
		$("#treeview").on("touchend", ".k-item", onMenuClick);
		$("#treeview").on("mouseup", ".k-item", onMenuClick);

		$("#treeview").data("kendoTreeView").bind("expand", function (e) {
			var backgroundel, colorel;
			if ($(e.node).closest('ul').attr('class') === "k-group k-treeview-lines") {
				treeview.collapse($('.k-treeview-lines > li').not($(e.node).closest('li')));
				backgroundel = $('.k-state-selected').css('background-color');
				colorel = $('.k-state-selected').css('color');
				$(e.node).css('background-position', '0px 0px').children('div').css({'background-color': '#046380', 'background-image': 'url(images/highlight.png)', 'background-position': '0 0px', 'color': colorel});
			}
		});
		$("#treeview").data("kendoTreeView").bind("collapse", function (e) {
			$(e.node).css('background-position', '0px center').children('div').attr('style', '');
		});
		$('#treeview span[data-value]').live('contextmenu', function (e) {
			e.preventDefault();
			if (fromurl($(this).data("value")) !== "") {
				$(this).trigger('click');
			} else {
				treeview.expand($(this).closest('li'));
				$(this).find(".k-in").removeClass("k-state-selected");
			}
		});
	}
	/*******************************************************************************/
	function tabStripMovement(tab) {
		if (!tab) return;

		var pos_active_tab = Number($(tab).position().left);	// Позиция активной вкладки (Левый угол)
		var width_active_tab = Number($(tab).width());			// Ширина Активной вкладки
		var pos_arrows = Number($('.es-bg').position().left);	// Позиция стрелок навигации
		var carousel = $('#tabstrip ul.k-tabstrip-items');
		var carousel_offset = Number(carousel.position().left);	// Позиция меню относительно интерфейса
		var abs_pos_active_tab = pos_active_tab + carousel_offset + 30;

		var carousel_length = 0;

		carousel.children().each(function () {
			carousel_length += $(this).width();
		});

		if (carousel_length > pos_arrows - 69) { // если длина карусели больше видимой области
			var arrows_overlap_active_tab = pos_arrows - width_active_tab - 30 < abs_pos_active_tab;
			var offset = carousel_offset;
			if (arrows_overlap_active_tab) { // активный таб справа - невидим
				offset = - pos_active_tab + pos_arrows - width_active_tab - 100;
			} else if (abs_pos_active_tab < 69) { // активный таб слева - невидим
				offset = carousel_offset - abs_pos_active_tab + 69 + 30;
			}
			var right_diff = pos_arrows - (offset + carousel_length) - 69;
			if (right_diff > 0) {
				// приклеить к правому краю
				offset += right_diff;
			}
			carousel.css("left", offset + "px");
		}
		else {
			// приклеить к левому краю
			carousel.css("left", 69 + "px");
		}

		$("#tabstrip li").removeClass("currentnext");
		$(tab).next().addClass("currentnext");

	}
	function toggle_header() {
		if (window.navigator.platform !== "Win32") {
			setInterval(function () {
				var vlmbtop = $('.left-menu-bottom').offset().top + "px",
					vlmbleft = $('.left-menu-bottom').offset().left + "px";
				viewModel.set("lmbtop", vlmbtop);
				viewModel.set("lmbleft", vlmbleft);
				var vesnavtop = $('#current2').offset().top + "px",
					vesnavleft = $('#current2').offset().left + "px";
				viewModel.set("esnavtop", vesnavtop);
				viewModel.set("esnavleft", vesnavleft);
			}, 50);
		}
	}
	/*********************************** MVVM **************************************/
	viewModel = kendo.observable({
		bodytoppanehtml: '<table class="tablereset width-one-hundred" style="margin-top:9px; font-size: 14px; white-space: nowrap;">' +
							'<tr>' +
								'<td class="logo valigntop"><\/td>' +
								'<td class="role valigntop" data-template="role-template" data-bind="source: role"><\/td>' +
								'<td class="messages valigntop">' +
									'<table width="160"><tr data-template="messages-template" data-bind="source: messages"><\/tr><\/table>' +
								'<\/td>' +
								'<td class="clock valigntop" data-bind="html: datatime" style="vertical-align: top;"><\/td>' +
								'<td class="settings valigntop"><\/td>' +
							'<\/tr>' +
						'<\/table>',
		buttontoppanel: '<div class="splitbar" data-bind="click: smallpaneclick, style: {backgroundPosition: backgroundpositionsplitbar}"><\/div>',
		bodyinterfacehtml: '<div id="horizontal" data-bind="style: {height: heightcenterpanel}">' +
							'<div id="left-pane">' +
								'<div id="left-menu-top-pane" class="k-state-selected">' +
									'<ul id="TypeMenu"><li><\/li><\/ul>' +
								'<\/div>' +
								'<div id="left-menu-middle-pane"><div id="treeview"><\/div><div data-bind="attr: {class: TipsClass}, html: Tips"><\/div><\/div>' +
							'<\/div>' +
							'<div style="overflow: hidden;"><div id="tabstrip"><\/div><div class="left-menu-bottom"><div id="lmb" data-bind="click: toggle_menu, attr: {class: leftmenubottom}" class="left-menu-bottom-close" hint="Показать/скрыть меню">&nbsp;<\/div><\/div><div class="es-bg"><\/div>' +
							'<div id="es-nav-menu" class="k-rtl">&nbsp;<\/div><div class="k-splitbar k-state-default k-splitbar-vertical k-splitbar-static-vertical" style="width: 100%;position:absolute;top:30px;"><\/div><\/div>' +
							'<div id="right-pane">' +
								'<div id="desktop-menu-top" data-bind="click: closetabrightpane">' +
									'<ul id="tabs2">' +
										'<li id="current2" class="k-state-selected"><div><span class="icon-retweet" data-bind="text: comparedocument"><\/span>' +
										'<img src="images/icons/cancel.png" data-hint="Закрыть" alt="Закрыть"><\/div><\/li>' +
									'<\/ul>' +
								'<\/div>' +
								'<div id="desktop-menu-middle" style="overflow: hidden;">' +
									'<iframe onload="$(this).css(\'visibility\', \'visible\');" style="visibility: hidden;" name="_body_iframe_right_pane" id="_body_iframe_right_pane" data-bind="attr: {src: srcrightpane}" width="100%" height="100%" border="0" frameborder="0" marginheight="0" marginwidth="0" application="yes" allowTransparency="true"><\/iframe>' +
								'<\/div>' +
							'<\/div>' +
						'<\/div>',
		lmbtop: "-100px",
		lmbleft: "-100px",
		esnavtop: "-100px",
		esnavleft: "-100px",
		cltrpwidth: "0px",
		cnone: "none",
		vnone: "block",
		Tips: "Правый click по пункту меню откроет ссылку в новой вкладке",
		TipsClass: "k-block k-error-colored tips",
		closetabrightpane: function () {
			horizontal.size("#right-pane", "0px");
			this.set("cltrpwidth", "0px");
			this.set("cnone", "none");
		},
		srcrightpane: "pages/load.html",
		themechooser: SelectThemeChooser,
		themecolor: function () {
			var themecolors;
			switch (SelectThemeChooser) {
			case "uniform":
				themecolors = "#BBB";
				break;
			case "bootstrap":
				themecolors = "#04C";
				break;
			case "metroblack":
				themecolors = "#008886";
				break;
			case "highcontrast":
				themecolors = "#A17E9C";
				break;
			case "moonlight":
				themecolors = "#F4AF03";
				break;
			case "silver":
				themecolors = "#0879C0";
				break;
			case "metro":
				themecolors = "#8EBC00";
				break;
			case "blueopal":
				themecolors = "#005C83";
				break;
			case "black":
				themecolors = "#FFFFFF";
				break;
			default:
				themecolors = "#F0713A";
			}
			return themecolors;
		},
		backgroundpositionsplitbar: "-17px -134px",
		heighttoppanel: "35px",
		heightlogo: "50px",
		widthlogo: "198px",
		backgroundcolorlogo: "transparent",		
		backgroundpositionlogo: function () {
			var backgpos;
			if (SelectThemeChooser === "blueopal") {
				backgpos = "0px 0px";
			} else if (SelectThemeChooser === "default") {
				backgpos = "0px 0px";
			} else if (SelectThemeChooser === "metro") {
				backgpos = "0px 0px";
			} else if (SelectThemeChooser === "silver") {
				backgpos = "0px 0px";
			} else { return "0px -52px"; }
			return backgpos;
		},
		about_label: "Группа компаний «ФОТОН»",
		logotip : "Группа компаний «ФОТОН»",
		bodyinterface: function () {
			return wHeight + "px";
		},
		heightcenterpanel: function () {
			return wHeight - ($("#bTbody1").height() + 26) + "px";
		},
		breadcrumbicon: "url(images/icons/house.png)",
		breadcrumbtitel: "Основной",
		/********* Дата и время **********/
		time: '00:00',
		date: 'вт. 01.01.2013',
		datatime: "<table class='tablereset'><tbody><tr><td data-bind='text: time'><td width='5'><\/td><td data-bind='text: date' ><\/td><\/tr><\/tbody><\/table>",
		/*********** Роли ****************/
//		role: "<table class='tablereset'><tbody><tr><td><img src='images/icons/user_suit.png' alt='Гайдуков В.П.'><span rel='pages/roleuser1.html'>Гайдуков В.П.<\/span><\/td><td><img src='images/icons/bullet_go.png' ><\/td><td><img src='images/icons/user.png' alt='Кудрявцев П.И.'><span rel='pages/roleuser2.html'>Кудрявцев П.И.<\/span><\/td><\/tr><\/tbody><\/table>",
		role: {
			user : {
				label : 'Кудрявцев П.И.',
				hint  : '<b>Портал</b><br/><li>- Администратор документооборота<b>Администрирование</b><br/>'
			},
			twin : {
				label : 'Иванов П.В.',
				hint  : 'html подсказки'
			}
		},

		/********** Сообщения ***********/
		messages: [],
		/*********************************/
		leftmenubottom: "left-menu-bottom-open",
		toggle_menu: function () {
			if (leftmenuvar === false) {
				set_global_setting("leftmenu", "close");
				this.set("leftmenubottom", "left-menu-bottom-open");
				leftmenuvar = true;
			} else {
				set_global_setting("leftmenu", "open");
				this.set("leftmenubottom", "left-menu-bottom-close");
				leftmenuvar = false;
			}
			var pane = getPane('0');
			if (!pane) { return; }
			horizontal.toggle(pane, $(pane).width() <= 0);
			fix_tab_scrolls ();
		},
		ctrp: function () {
			set_global_setting("rightmenu", "close");
			rightmenuvar = true;
			var pane = getPane('2');
			if (!pane) { return; }
			horizontal.toggle(pane, $(pane).width() <= 0);
		},
		esnavnext: function () {
			var tab = tabStrip.select();
			var nextTab = tab.next();
			nextTab = nextTab.length ? nextTab : 0;
			tabStrip.select(nextTab);
		},
		esnavprev: function () {
			var tab = tabStrip.select();
			var prevTab = tab.prev();
			prevTab = prevTab.length ? prevTab : tabs.length - 1;
			tabStrip.select(prevTab);
		}
	});
	kendo.bind($("#viewModel"), viewModel);

	window.onIndicatorClick = function (attrrel) {
		opentab(attrrel, "");
	}

	function refreshIndicators () {
		viewModel.set ('messages', []);
		session.query ({type: '_indicators'}, function (data) {
			viewModel.set ('messages', data.content);
		});
	}

	function padZeros(arg) {
		return arg < 10? "0" + arg : arg;
	}

	function refreshTime () {
		var now = new Date();

		var minutes = padZeros(now.getMinutes());
		var hours = padZeros(now.getHours());

		var monthNames = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12" ];
		var dayNames = ["вс", "пн", "вт", "ср", "чт", "пт", "сб"];
		var date = dayNames[now.getDay()] + " "
			+ padZeros(now.getDate()) + '.' + monthNames[now.getMonth()] + '.' + now.getFullYear();

		viewModel.set('time', hours + ':' + minutes);
		viewModel.set('date', date);
	}

	session.query ({type: 'about', action: '_json', id: '-1', salt : Math.random()}, function (data) {

		var left_cells = [];
		var right_cells = [];
		var settings = data;

		if (settings.top_toolbar) {
			viewModel.set ('about_label', settings.top_toolbar);
			viewModel.set ('logotip', topmenu === "open"? "" : settings.top_toolbar);
		}

		if (settings.logout_url) {
			viewModel.set ('logout_url', settings.logout_url);
		}

		var columns = settings.bottom_toolbar;
		for (var i in columns) {
			var column = columns[i];
			var cells = column.align == 'right'? right_cells : left_cells;
			var html = column.label;
			if (column.href) {
				html = '<a href="' + column.href + '" target="_blank">' + html + "</a>";
			}

			cells.push(html);
		}

		var td = $('<td>' + left_cells.join('&nbsp;|&nbsp;') + '</td>');
		var td_right = $('<td>' + right_cells.join('&nbsp;|&nbsp;') + '</td>').attr('class', 'alignright');
		$('#footer tr:last').append(td).append(td_right);
	});

	refreshIndicators (); setInterval (refreshIndicators, 60 * 1000);
	refreshTime (); setInterval (refreshTime, 60 * 1000);

	session.query ({type: 'users', '__only_json': 1}, function (data) {

		if (!data.twin) data.twin = {};

		viewModel.set ('role', data);

		var semaphore = 0;
		function semaphoreUp   () {semaphore ++};
		function semaphoreDown () {semaphore --};

		$('.role span').live("click", function (e) {
			if ($('div#tooltiproles').attr('id') === "tooltiproles") {
				$('body').children('div#tooltiproles').remove();
			} else {
				$("body").append('<div id="tooltiproles" class="context-menu-list" style="top: ' + e.pageY + 'px; left:' + e.pageX + 'px;">' + data [$(this).attr ('rel')].hint + '<\/div>');
				$('#tooltiproles').fadeIn('500');
				$('#tooltiproles').fadeTo('10', 0.9);
			}
			semaphore ++;
			setTimeout (semaphoreDown, 100);
		}).mousemove(function (e) {
			$('#tooltiproles').css('top', e.pageY + 20);
			$('#tooltiproles').css('left', e.pageX - 100);
		}).mouseout(function () {
			if (semaphore) return;
			$('body').children('div#tooltiproles').remove();
		});

		if (data.twin.label) {
			no_savetabs = 1;
		} else {
			no_savetabs = 0;
			var tabs_str = get_global_setting("tabs");
			if (tabs_str) {
				var tabs_str = get_global_setting("tabs");
				var tabs_detail = tabs_str.split(";");
				for (var i = 0; i < tabs_detail.length; i++) {
					var tab_detail = tabs_detail[i].split(":");
					opentab (tab_detail[0], {id: tab_detail[1]});
				}
			}
		}

	});

	/*******************************************************************************/
	horizontal = $("#horizontal").kendoSplitter({
		panes: [
			{ collapsible: true, resizable: true, size: left_menu_width + "px", max: "300px", min: left_menu_min_width + "px", collapsed: leftmenuvar},
			{ collapsible: false, min: "185px" },
			{ collapsible: false, collapsed: rightmenuvar}
		],
		expand: function () {$("#lmb").trigger('click'); },
		collapse: function () {$("#lmb").trigger('click'); },
		resize:	function () {toggle_header();},
		layoutChange : function(e) {
			var width = $("#horizontal #left-pane").width();
			if (!width) {
				return;
			}
			set_global_setting("left_menu_width", width);
		}
	}).data("kendoSplitter");
	getPane = function (index) {
		index = Number(index);
		var panes = $("#horizontal").children();
		if (!isNaN(index) && index < panes.length) {
			return panes[index];
		}
	};

	$("#lmb").on("touchend", function(){$(this).trigger('click')});
	$("#lmb2").on("touchend", function(){$(this).trigger('click')});

	/*************************** Запрет выделения текста *****************************/
	$("#body-interface").disableTextSelect();
	/************************************** Табы ******************************************/
	tabStrip = $("#tabstrip").kendoTabStrip({
		animation: false,
		select: function (e) {
			var id = $(e.item).find('span[data-value]').data('value');
			$.each(tabs, function (i, val) {
				if (val.id == id) {
					set_global_setting("activetab", i);
					set_global_setting("activetabsize", Number($('#tabstrip ul.k-tabstrip-items').position().left));
					return false;
				}
			});
			tabStripMovement(e.item);
			var tab_info = tab_by_id(id);
			if (tab_info) {
				var icon = tab_info ['icon'].replace(".png", "");
				viewModel.set("breadcrumbicon", "url(images/icons/" + icon + "_large.png)");
				viewModel.set("breadcrumbtitel", " " + tab_info ['title']);
			}
		}
	}).data("kendoTabStrip");

	tabs = [];

	function tab_by_id(id) {
		var result = $.grep(tabs, function(e){ return e.id == id; });
		if (result.length > 0) {
			return result [0];
		}
		return undefined;
	}

	opentab ('main|pages/main.html|house|Основной', {isFixed: true, id: 'main'});
	opentab ('indicators|pages/main.html|marketing_efforts|Показатели', {isFixed: true, id: 'indicators'});
	opentab ('doc_folders|pages/doc_folders.htm|docs|Архив документов', {isFixed: false, id: 'doc_folders'});
	tabStrip.select(2);

	fix_tab_scrolls ();
	/******************************** Правая панель *******************************/
	$("#right-pane").kendoSplitter({
		orientation: "vertical",
		panes: [
			{ collapsible: false, resizable: false, size: "30px"},
			{ collapsible: false, size: "100%"}
		]
	});
	/*********************************************************************************/
	$("#left-pane").kendoSplitter({
		orientation: "vertical",
		panes: [
			{ collapsible: false, resizable: false, size: "30px"},
			{ collapsible: false, size: "100%"}
		]
	});
	themesMenu = [
		{ text: "Полное меню", value: "allmenu", img: "application_view_list.png", summary : ""},
		{ text: "Избранное", value: "favorites", img: "star.png", summary : "Избранное"},
		{ text: "Популярные пункты меню", value: "popular", img: "lightbulb.png", summary : "Популярное"},
		{ text: "Настройка избранного меню", value: "settingmenu", img: "cog.png", summary : "Настройка"}
	];
	templateMenu = kendo.template("<li data-hint='#=text#' class='type-#=value#'><span class='k-button'><img src='images/icons/#=img#' alt='#=text#'><\/span><\/li>");

	function refreshMenu () {
		var param = {__only_menu: 1, type: 'menu'};
		param ["__only_" + selecttypemenu] = 1;
		kendo.ui.progress($('#treeview'), true);
		session.query (param, function (data) {
			$treeviewdataSource = data;
			TWdataSource($treeviewdataSource);
			selecttypemenu == "settingmenu" ? loadsettingmenu () : loadmenu ();
			kendo.ui.progress($('#treeview'), false);
		});
	}

	var menu_switch_html = kendo.render(templateMenu, themesMenu)
		+ "<span id='menu_type_hint' class='menu_type_hint'><\/span>";

	$("#TypeMenu").html(menu_switch_html).on("click", "li", function () {

		var li = $(this).children("span").addClass("k-state-selected").end();

		$("span[id=menu_type_hint]").text(themesMenu[li.index()].summary);
		selecttypemenu = themesMenu[li.index()].value;

		li.siblings().children("span").removeClass("k-state-selected");
		set_global_setting("selecttypemenu", selecttypemenu);
		$("#left-menu-middle-pane").empty().append('<div id="treeview"><\/div><div class="' + viewModel.get("TipsClass") + '" data-bind="attr: {class: TipsClass}, html: Tips">' + viewModel.get("Tips") + '<\/div>');
		refreshMenu ();
	});
	$("#TypeMenu").on("touchend", "li", function(){$(this).trigger('click')});
	set_global_setting("selecttypemenu", selecttypemenu);

	$("#TypeMenu .type-" + selecttypemenu + " span").trigger("click");

	/**********************************************************************************/
	$(wind).resize(function () {
		viewModel.panelresize();
		fix_tab_scrolls ();
		tabStripMovement($('#tabstrip li[aria-selected="true"]'));
		toggle_header();
	});
	/****************************** Меню открытых вкладок ****************************/
	$("#es-nav-menu").kendoMenu({
		dataSource: [{
			text: "",
			spriteCssClass: "es-nav-prev"
		},{
			text: "",
			spriteCssClass: "es-nav-menu",
			items: [{ text: '<ul id="loadmenu"><\/ul>', encoded: false}]
		},{
			text: "",
			spriteCssClass: "es-nav-next"
		}]
	});
	$("#es-nav-menu").data("kendoMenu").bind("open", function (e) {
		var stroka = "";
		$.each(tabs, function (i, val) {
			stroka = stroka + '<li><span data-value="' + val.id + '|' + val.href + '|' + val.icon + '|' + val.title + '"><img class="k-image" alt="" src="images/icons/' + val.icon + '">' + val.title + '<\/span><\/li>';
		});
		$("#loadmenu").html(stroka).kendoPanelBar();
	})
	$("#es-nav-menu").data("kendoMenu").bind("select", function (e) {
		if($(e.item).find(".k-sprite").hasClass("es-nav-prev")){
			viewModel.esnavprev();
		} else if($(e.item).find(".k-sprite").hasClass("es-nav-next")){
			viewModel.esnavnext();
		} else if ($(e.item).find(".k-sprite").hasClass("es-nav-menu")){
			var stroka = "";
			$.each(tabs, function (i, val) {
				stroka = stroka + '<li><span data-value="' + val.id + '|' + val.href + '|' + val.icon + '|' + val.title + '"><img class="k-image" alt="" src="images/icons/' + val.icon + '">' + val.title + '<\/span><\/li>';
			});
			$("#loadmenu").html(stroka).kendoPanelBar();
		} else if ($(e.item).find("span[data-value]").data("value")){
			$("#tabstrip ul.k-tabstrip-items > li").find("span[data-value]").each(function (i) {
				if ($(this).data("value") == fromid($(e.item).find("span[data-value]").data("value"))) {
					tabStrip.select(i);
				}
			})
		}
	})
	/******************************** Подсказки ***************************************/
	if (window.navigator.platform === "Win32") {
		$('[data-hintr]').live("mouseover", function () {
			var tip = $(this).data('hintr');
			$(this).data('hintr', '');
			$('body').append('<div id="tooltip" style="top:-500px;">' + tip + '<\/div>');
			$('#tooltip').fadeIn('500');
			$('#tooltip').fadeTo('10', 0.9);
		}).mousemove(function (e) {
			$('#tooltip').css('top', e.pageY + 25);
			$('#tooltip').css('left', e.pageX + -50);
		}).mouseout(function () {
			$(this).data('hintr', $('#tooltip').html());
			$('body').children('div#tooltip').remove();
		});
		$('[data-hint]').live("mouseover", function () {
			var tip = $(this).data('hint');
			$(this).data('hint', '');
			$('body').append('<div id="tooltip" style="top:-500px;">' + tip + '<\/div>');
			$('#tooltip').fadeIn('500');
			$('#tooltip').fadeTo('10', 0.9);
		}).live("mousemove", function (e) {
			$('#tooltip').css('top', e.pageY + 10);
			$('#tooltip').css('left', e.pageX + 20);
		}).live("mouseout", function () {
			$(this).data('hint', $('#tooltip').html());
			$('body').children('div#tooltip').remove();
		});
	}
	/**********************************************************************************/
	$('.clock').live("click", function (e) {
		if ($('div#tooltipCalendar').attr('id') === "tooltipCalendar") {
			$('body').children('div#tooltipCalendar').remove();
		} else {
			var epageY = e.pageY + 20, epageX = e.pageX - 100;
			$('body').append('<div id="tooltipCalendar" style="top: ' + epageY + 'px; left:' + epageX + 'px;"><\/div>');
			$("#tooltipCalendar").kendoCalendar({
				value: new Date()
			});
			$('#tooltipCalendar').fadeIn('500');
			$('#tooltipCalendar').fadeTo('10', 0.9);
		}
	}).mousemove(function (e) {
		$('#tooltipCalendar').css('top', e.pageY + 20);
		$('#tooltipCalendar').css('left', e.pageX - 100);
	}).mouseout(function () {
		$('body').children('div#tooltipCalendar').remove();
	});

	if ($.browser.msie) {
		viewModel.panelresize();
	}
	/************************** Смена скинов *******************************//*
	function themeChooser(SelectThemeChooser) {
		var themes = [
			{ text: "Black", value: "black" },
			{ text: "Blue Opal", value: "blueopal" },
			{ text: "Default", value: "default" },
			{ text: "Metro", value: "metro" },
			{ text: "Silver", value: "silver" }
		],
		template = kendo.template("<li data-value='#=value#' class='skin-#=value#'><span>#= text #<\/span><\/li>");
		$("#themeChooser").html(kendo.render(template, themes)).on("click", "li", function () {
			var li = $(this).children("span").addClass("k-state-selected").end(),
				SelectThemeChooser = themes[li.index()];
			li.siblings().children("span").removeClass("k-state-selected");
			set_global_setting("kendoSkin", SelectThemeChooser.value);
			wind.location.reload();
		});
		$("#themeChooser .skin-" + SelectThemeChooser + " span").addClass("k-state-selected");
	}
	themeChooser(SelectThemeChooser);
	*//*********************************************************************/
	$('body').css('display', 'none');
	$("body").fadeIn(400);

	var params = location.search.substr(location.search.indexOf("?") + 1);
	if (params.length > 0) {
		window.opentab ('/?' + params);
	}
}); // document.ready

$(document.body).keydown(function (e) {
	if (e.altKey && e.keyCode === 81) {
		$("#treeview").focus();
	} else if (e.altKey && e.keyCode === 87) {
		$("#tabstrip").focus();
	} else if (e.altKey && e.keyCode === 13) {
		if ($("#tabstrip ul .k-last [data-fixblock]").data('fixblock') !== "true") {
			$("#tabstrip ul .k-last [data-fixblock]").data('fixblock', 'true').removeClass("menu-tabs").addClass("menu-tabs-fixed");
		}
	}
});
</script>
<script id="panelbar-template" type="text/kendo-ui-template">
	<span class="#: item.classicon #" data-value="#: item.id #|#: item.rel #|#: item.classicon #|#: item.text #|#: item.target #" >#: item.text #</span>
</script>
<script id="treeview-template" type="text/kendo-ui-template">
	<span class="#: item.classicon #" data-value="#: item.id #|#: item.rel #|#: item.classicon #|#: item.text #|#: item.target #" >#: item.text #</span>
</script>
<script id="messages-template" type="text/x-kendo-template">
		<td><span onClick="onIndicatorClick('#: href #|#: href #|#: tabicon #|#: title #')" data-value="#: href #|#: href #|#: icon #.png|#: title #" data-hint="#: title #"><img src="images/icons/#: icon #.png">&nbsp;#: label #</span></span></td>
</script>
<script id="role-template" type="text/x-kendo-template">
	<table class='tablereset'>
		<tbody>
			<tr>
				<td><img src='images/icons/user_suit.png' alt='#: user.label #'><span rel='user'>#: user.label #</span></td>
			# if (twin.label) { #
				<td><img src='images/icons/bullet_go.png' ></td>
				<td><img src='images/icons/user.png' alt='#: twin.label #'><span rel='twin'>#: twin.label #</span></td>
			# } #
			</tr>
		</tbody>
	</table>
</script>
<script type="text/x-kendo-tmpl" id="templatelistView">
	<li data-bind="attr: {class: TypeG}"><span data-bind="attr: {class: Class}"></span><span data-bind="text: Name"></span><input type="hidden" name="gadget[]" data-bind="value: Id"></li>
</script>
<script id="gadgettemplate" type="text/x-kendo-template">
	<span data-bind="text: Name, attr: {class: Class}"></span>
</script>
<!--[if gte IE 9]>
  <style type="text/css">
  #bootstrap .colorpanel, #uniform .colorpanel, #moonlight .colorpanel, #highcontrast .colorpanel, #metroblack .colorpanel, #metro .colorpanel, #default .colorpanel, #blueopal .colorpanel, #black .colorpanel{filter: none;}
  </style>
<![endif]-->
<!--[if IE 8]>
	<style type="text/css">
	#treeview .k-in{display:inline-block;}
	</style>
<![endif]-->
<!--[if IE 7]>
	<style type="text/css">
	#tabstrip ul.menu-tab > li.k-item .k-link > .mset{margin-top: 8px;}
	DIV.k-treeview {overflow: hidden!important;}
	.k-treeview .k-plus, .k-treeview .k-minus{margin-left:0!important;float: none;}
	.k-treeview .k-in{margin-left:0!important;}
	#treeview .k-in{display:inline-block;}
	#left-menu-middle-pane{overflow-y: scroll;}
	.k-menu .k-item,.k-widget.k-menu-horizontal>.k-item{float:left;}
	.k-tabstrip-items .k-item,.k-panelbar .k-tabstrip-items .k-item{position:relative;}
	</style>
<![endif]-->
<!--[if IE5]>
	<style type="text/css">

	</style>
<![endif]-->
<div id="winddialog" data-bind="html: dialoghtml"></div>
</body>
</html>
